# 20200111

## 函数作用域和块作用域

### 函数作用域

- **最小授权或最小暴露原则**：是指在软件设计中，应该最小限度地暴露必要内容，而将其他内容都“隐藏”起来

- “隐藏”作用域中的变量和函数所带来的另一个好处，是可以避免同名标识符之间的冲突，

匿名表达式的缺点

- 匿名函数在栈追踪中不会显示出有意义的函数名，使得调试很困难。
- 函数需要引用自身时只能使用已经过期的arguments.callee引用
- 省略了对于代码可读性/可理解性很重要的函数名

### 块作用域

- 变量的声明应该距离使用的地方越近越好，并最大限度地本地化。
- try/catch 的 catch 分句会创建一个块作用域，其中声明的变量仅在 catch 内部有效

- for 循环头部的 let 不仅将 i 绑定到了 for 循环的块中，事实上它将其重新绑定到了循环 的每一个迭代中

## 提升

- 函数会首先被提升，然后才是变量
- 重复的 var 声明会被忽略掉
- 尽可能避免在块内部声明函数

## 作用域闭包

函数在它自定义的词法作用域之外的地方执行，并在函数中使用外部的变量，就形成了闭包

模块模式的必要条件

- 必须有外部的封闭函数，该函数必须至少被调用一次
- 封闭函数必须返回至少一个内部函数

## 动态作用域

**动态作用域**：让作用域作为一个在运行时就被动态确定的形式 （this很像）

动态作用域并不关心函数和作用域是如何声明以及在何处声明的，只关心它们从何处调用。

## 块作用域 替代方案

- try catch 性能糟糕
- 使用工具

## this词法

箭头函数 用当前的词法作用域覆盖了 this 本来的值
