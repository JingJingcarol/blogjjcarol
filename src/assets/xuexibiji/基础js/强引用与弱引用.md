# 强引用与弱引用

javascript有7种基本数据类型String, Number, Boolean, Null, Undefined，Symbol，其他的是引用数据类型

在新的weakSet和WeakMap中，表示存储的对象值/键名所引用的对象都是被弱引用的，那么什么是弱引用，什么又是强引用呢？

之前看到一个比喻感觉很形象

> 强引用就是一个小孩A牵着一条狗，他们之间通过狗链儿连着
>
> 弱引用就是，旁边有个小孩B指着A牵的狗，说：嘿，那有条狗，B指向那条狗，但他们之间没有是指绑在一起的东西
>
> 当A放开狗链，狗就会跑掉（被垃圾回收），无论B是不是还指着
>
> 但是，当B不再指着那条狗，狗还被A牵着，不会影响它是否跑掉

## 强引用

我们常见的普通对象的引用 例如Object object = new Object();

特点：只要强引用指向一个对象，就表明这个对象是”活的”

## 弱引用

弱引用一旦被垃圾回收器检测到，就会被回收。

## other

除此之外java中还有软引用，虚引用（幻影引用）

- **软引用** 用来描述一些还有用但是并非必须的对象，内存空间不足时，就回去试图回收软引用指向的对象
- **虚引用** 虚引用仅仅只是提供了一种确保对象被finalize以后来做某些事情的机制。比如说这个对象被回收之后发一个系统通知啊啥的。

引用类型 | GC回收时间 | 用途
-- | -- | --
强引用 | never | 对象的一般状态
软引用 | 内存不足时 | 对象缓存
弱引用 | GC时 | 对象缓存
虚引用 | unknown | unknown
